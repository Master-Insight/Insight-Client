---
import "swiper/css"; // Importa los estilos básicos de Swiper
import "swiper/css/navigation"; // Importa los estilos para la navegación (flechas)
import "swiper/css/pagination"; // Importa los estilos para la paginación (puntos)

const { images = [], title } = Astro.props; // `images` es un array de URLs; `title` es opcional y proporciona contexto
---

<div class="swiper w-full h-auto">
  <!-- Contenedor de diapositivas -->
  <div class="swiper-wrapper">
    {
      images.map((image, index) => (
        <div class="swiper-slide" key={index}>
          <img
            src={image}
            alt={`Imagen ${index + 1} de ${title}`}
            class="w-full h-auto object-cover rounded-lg shadow-lg"
          />
        </div>
      ))
    }
  </div>

  <!-- Controles de navegación -->
  <div class="swiper-button-prev"></div>
  <!-- Flecha anterior -->
  <div class="swiper-button-next"></div>
  <!-- Flecha siguiente -->

  <!-- Paginación -->
  <div class="swiper-pagination"></div>
  <!-- Indicadores de página (puntos) -->
</div>

<script>
  // Inicializar Swiper en el cliente
  import Swiper from "swiper";
  import { Navigation, Pagination } from "swiper/modules";

  // Esperar a que el DOM esté listo
  document.addEventListener("DOMContentLoaded", () => {
    new Swiper(".swiper", {
      modules: [Navigation, Pagination], // Módulos adicionales de Swiper (puedes agregar más según sea necesario)
      spaceBetween: 10, // Espacio entre diapositivas (ajústalo según el diseño deseado)
      slidesPerView: 1, // Número de diapositivas visibles al mismo tiempo
      navigation: {
        nextEl: ".swiper-button-next", // Selector para la flecha siguiente
        prevEl: ".swiper-button-prev", // Selector para la flecha anterior
      },
      pagination: {
        el: ".swiper-pagination", // Selector para los puntos de paginación
        clickable: true, // Habilitar que los puntos sean clicables
      },
    });
  });
</script>

<style>
  .swiper-pagination {
    position: relative;
    bottom: 0;
    margin-top: 10px; /* Espacio entre el carrusel y los puntos */
  }
</style>
